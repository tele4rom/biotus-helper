# –ß–∞—Ç-–±–æ—Ç –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω—É –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ üá∫üá¶

–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π —á–∞—Ç-–±–æ—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ–π –∫–ª—ñ—î–Ω—Ç—ñ–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ —Ç–∞ –±—ñ–æ–ª–æ–≥—ñ—á–Ω–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–±–∞–≤–æ–∫ (–ë–ê–î—ñ–≤), –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ OpenAI GPT-4o-mini —Ç–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ—à—É–∫—É Pinecone.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

‚úÖ **–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∏–∫–ª—é—á–Ω–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é** - –Ω–∞–≤—ñ—Ç—å –Ω–∞ –∑–∞–ø–∏—Ç–∏ —ñ–Ω—à–∏–º–∏ –º–æ–≤–∞–º–∏
‚úÖ **–í–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤** —á–µ—Ä–µ–∑ Pinecone –∑ –º–µ—Ç–∞–¥–∞–Ω–∏–º–∏
‚úÖ **–ú—ñ–Ω—ñ–º—É–º 3 —Ç–æ–≤–∞—Ä–∏ —É –∫–æ–∂–Ω—ñ–π –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**
‚úÖ **–û–±–æ–≤'—è–∑–∫–æ–≤–µ –≤–∫–ª—é—á–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ Biotus –∞–±–æ My Nutri Week**
‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ** –∑–∞–ø–∏—Ç—ñ–≤ —á–µ—Ä–µ–∑ GPT
‚úÖ **–Ü—Å—Ç–æ—Ä—ñ—è —Ä–æ–∑–º–æ–≤–∏** (–¥–æ 6 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)
‚úÖ **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—é** (status=true, quantity>0)
‚úÖ **RESTful API** –∑ Express.js

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Node.js** + **TypeScript**
- **Express.js** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **Pinecone** - –≤–µ–∫—Ç–æ—Ä–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (index: vitamins-catalog-v2, dimensions: 1536)
- **OpenAI** - GPT-4o-mini –¥–ª—è –¥—ñ–∞–ª–æ–≥—ñ–≤, text-embedding-3-small –¥–ª—è embeddings

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
vitamin-support-bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pinecone.ts         # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Pinecone
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ openai.ts           # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ OpenAI
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product.ts          # TypeScript —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vectorSearch.ts     # –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤ —É Pinecone
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chatbot.ts          # –õ–æ–≥—ñ–∫–∞ —á–∞—Ç-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompts.ts          # –°–∏—Å—Ç–µ–º–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validation.ts       # –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                # Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ:

```env
# Pinecone Configuration
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=vitamins-catalog-v2

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Server Configuration
PORT=3000
NODE_ENV=development

# Application Configuration
MAX_PRODUCTS_PER_RESPONSE=10
MIN_PRODUCTS_PER_RESPONSE=3
SIMILARITY_THRESHOLD=0.7
MAX_CONVERSATION_HISTORY=6
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

#### –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ (–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º):

```bash
npm run dev
```

#### Production —Ä–µ–∂–∏–º:

```bash
npm run build
npm start
```

## API Endpoints

### `GET /`
–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ API

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "message": "–í—ñ—Ç–∞—î–º–æ –≤ API —á–∞—Ç-–±–æ—Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –º–∞–≥–∞–∑–∏–Ω—É –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤! üåü",
  "version": "1.0.0",
  "endpoints": { ... }
}
```

---

### `GET /health`
–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Ä–≤—ñ—Å—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "status": "healthy",
  "services": {
    "pinecone": "ok",
    "openai": "ok"
  },
  "environment": {
    "nodeEnv": "development",
    "port": 3000
  },
  "timestamp": "2025-01-15T10:30:00.000Z"
}
```

---

### `POST /chat`
–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç—É

**–ó–∞–ø–∏—Ç:**
```json
{
  "message": "–Ø–∫—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –¥–ª—è —ñ–º—É–Ω—ñ—Ç–µ—Ç—É?",
  "sessionId": "–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ-uuid"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "data": {
    "response": "–í—ñ—Ç–∞—é! –î–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —ñ–º—É–Ω—ñ—Ç–µ—Ç—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏...",
    "sessionId": "550e8400-e29b-41d4-a716-446655440000",
    "productsFound": 5,
    "relevanceCheck": {
      "isRelevant": true,
      "reason": "–ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –¥–ª—è —ñ–º—É–Ω—ñ—Ç–µ—Ç—É"
    }
  },
  "timestamp": "2025-01-15T10:30:00.000Z"
}
```

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:**

```bash
# –ù–æ–≤–∏–π –¥—ñ–∞–ª–æ–≥ (–±–µ–∑ sessionId)
curl -X POST http://localhost:3000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–ü—Ä–∏–≤—ñ—Ç! –Ø–∫—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –¥–ª—è –µ–Ω–µ—Ä–≥—ñ—ó?"
  }'

# –ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –¥—ñ–∞–ª–æ–≥—É (–∑ sessionId)
curl -X POST http://localhost:3000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–ê —â–æ –¥–ª—è –¥—ñ—Ç–µ–π?",
    "sessionId": "550e8400-e29b-41d4-a716-446655440000"
  }'
```

---

### `DELETE /chat/:sessionId`
–í–∏–¥–∞–ª–∏—Ç–∏ —Å–µ—Å—ñ—é —Ä–æ–∑–º–æ–≤–∏

**–ü—Ä–∏–∫–ª–∞–¥:**
```bash
curl -X DELETE http://localhost:3000/chat/550e8400-e29b-41d4-a716-446655440000
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "–°–µ—Å—ñ—é —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ",
  "sessionId": "550e8400-e29b-41d4-a716-446655440000",
  "timestamp": "2025-01-15T10:30:00.000Z"
}
```

---

### `GET /stats`
–û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–µ—Å—ñ–π (–¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è)

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "data": {
    "totalSessions": 5,
    "sessions": [
      {
        "sessionId": "550e8400-e29b-41d4-a716-446655440000",
        "messageCount": 8,
        "createdAt": "2025-01-15T10:00:00.000Z",
        "lastUpdatedAt": "2025-01-15T10:30:00.000Z"
      }
    ]
  },
  "timestamp": "2025-01-15T10:30:00.000Z"
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ —É Pinecone

–ö–æ–∂–µ–Ω —Ç–æ–≤–∞—Ä —É Pinecone —ñ–Ω–¥–µ–∫—Å—ñ –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–µ—Ç–∞–¥–∞–Ω—ñ:

```typescript
{
  id: string;              // –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID
  product_id: string;      // ID –ø—Ä–æ–¥—É–∫—Ç—É
  name: string;            // –ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É
  brand: string;           // –ë—Ä–µ–Ω–¥
  sku: string;             // SKU –∫–æ–¥
  price: number;           // –¶—ñ–Ω–∞ –≤ –≥—Ä–Ω
  description: string;     // –û–ø–∏—Å —Ç–æ–≤–∞—Ä—É
  categories: string;      // –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
  form: string;            // –§–æ—Ä–º–∞ –≤–∏–ø—É—Å–∫—É (–∫–∞–ø—Å—É–ª–∏, —Ç–∞–±–ª–µ—Ç–∫–∏, –ø–æ—Ä–æ—à–æ–∫)
  package: string;         // –£–ø–∞–∫–æ–≤–∫–∞
  flavor: string;          // –°–º–∞–∫
  age: string;             // –í—ñ–∫–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è
  active: boolean;         // –ß–∏ –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–æ–≤–∞—Ä
  quantity: number;        // –ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ
  status: boolean;         // –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
}
```

## –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –±–æ—Ç–∞

### 1. –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
–ü–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é –∑–∞–ø–∏—Ç—É –±–æ—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –ø–∏—Ç–∞–Ω–Ω—è –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤/–ë–ê–î—ñ–≤:

- ‚úÖ **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ —Ç–µ–º–∏:** –≤—ñ—Ç–∞–º—ñ–Ω–∏, –º—ñ–Ω–µ—Ä–∞–ª–∏, –ë–ê–î–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è, —ñ–º—É–Ω—ñ—Ç–µ—Ç, —Å—Ö—É–¥–Ω–µ–Ω–Ω—è
- ‚ùå **–ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ:** –ª—ñ–∫–∏, –¥—ñ–∞–≥–Ω–æ–∑–∏, –∑–∞–≥–∞–ª—å–Ω—ñ —Ä–æ–∑–º–æ–≤–∏, —ñ–Ω—à—ñ —Ç–æ–≤–∞—Ä–∏

### 2. –í–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è embedding –∑–∞–ø–∏—Ç—É —á–µ—Ä–µ–∑ OpenAI `text-embedding-3-small`
- –ü–æ—à—É–∫ —É Pinecone –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏: `status=true`, `quantity>0`
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π score —Å—Ö–æ–∂–æ—Å—Ç—ñ: 0.7

### 3. –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω—ñ –±—Ä–µ–Ω–¥–∏
–ë–æ—Ç –∑–∞–≤–∂–¥–∏ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∫–ª—é—á–∏—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –±—Ä–µ–Ω–¥—ñ–≤:
- **Biotus**
- **My Nutri Week**

### 4. –ú—ñ–Ω—ñ–º—É–º —Ç–æ–≤–∞—Ä—ñ–≤
–Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –º–µ–Ω—à–µ 3 —Ç–æ–≤–∞—Ä—ñ–≤, –¥–æ–¥–∞—é—Ç—å—Å—è –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç–æ–≤–∞—Ä–∏.

### 5. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
GPT-4o-mini –≥–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º:
- –ö–æ–Ω—Ç–µ–∫—Å—Ç—É —Ä–æ–∑–º–æ–≤–∏ (6 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)
- –ó–Ω–∞–π–¥–µ–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- –°–∏—Å—Ç–µ–º–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ü–µ—Ä—à—ñ–π –∑–∞–ø–∏—Ç

**–ó–∞–ø–∏—Ç:**
```json
{
  "message": "–ü—Ä–∏–≤—ñ—Ç! –ü–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –¥–ª—è —ñ–º—É–Ω—ñ—Ç–µ—Ç—É"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```
–í—ñ—Ç–∞—é! üëã

–Ø - –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∑ –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ —Ç–∞ –±—ñ–æ–ª–æ–≥—ñ—á–Ω–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–±–∞–≤–æ–∫.

–î–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —ñ–º—É–Ω—ñ—Ç–µ—Ç—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏:

üìã –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏:

1. **–í—ñ—Ç–∞–º—ñ–Ω C 1000–º–≥** –≤—ñ–¥ Biotus
   - –¶—ñ–Ω–∞: 350 –≥—Ä–Ω
   - –§–æ—Ä–º–∞: –∫–∞–ø—Å—É–ª–∏
   - –û–ø–∏—Å: –ü–æ—Ç—É–∂–Ω–∏–π –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —ñ–º—É–Ω—ñ—Ç–µ—Ç—É

2. **–¶–∏–Ω–∫ + –í—ñ—Ç–∞–º—ñ–Ω D3** –≤—ñ–¥ My Nutri Week
   - –¶—ñ–Ω–∞: 280 –≥—Ä–Ω
   - –§–æ—Ä–º–∞: —Ç–∞–±–ª–µ—Ç–∫–∏
   - –û–ø–∏—Å: –ö–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∑–º—ñ—Ü–Ω–µ–Ω–Ω—è –∑–∞—Ö–∏—Å–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –æ—Ä–≥–∞–Ω—ñ–∑–º—É

3. **–Ü–º—É–Ω–æ –ö–æ–º–ø–ª–µ–∫—Å** –≤—ñ–¥ Nature's Bounty
   - –¶—ñ–Ω–∞: 420 –≥—Ä–Ω
   - –§–æ—Ä–º–∞: –∫–∞–ø—Å—É–ª–∏
   - –û–ø–∏—Å: –ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ —Ç–∞ –º—ñ–Ω–µ—Ä–∞–ª—ñ–≤

üí° –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ—Ä–∞–¥–∏:
–ü—Ä–∏–π–º–∞–π—Ç–µ –≤—ñ—Ç–∞–º—ñ–Ω–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –±–∞–∂–∞–Ω–æ –ø—ñ–¥ —á–∞—Å —ó–∂—ñ. –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç—É–≤–∞—Ç–∏—Å—è –∑ –ª—ñ–∫–∞—Ä–µ–º —â–æ–¥–æ –¥–æ–∑—É–≤–∞–Ω–Ω—è.
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π –∑–∞–ø–∏—Ç

**–ó–∞–ø–∏—Ç:**
```json
{
  "message": "–Ø–∫–∞ –ø–æ–≥–æ–¥–∞ —Å—å–æ–≥–æ–¥–Ω—ñ?"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```
–í–∏–±–∞—á—Ç–µ, –∞–ª–µ —è —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑—É—é—Å—å –≤–∏–∫–ª—é—á–Ω–æ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è—Ö —â–æ–¥–æ –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤, –º—ñ–Ω–µ—Ä–∞–ª—ñ–≤ —Ç–∞ –±—ñ–æ–ª–æ–≥—ñ—á–Ω–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–±–∞–≤–æ–∫ (–ë–ê–î—ñ–≤).

–Ø –∑ —Ä–∞–¥—ñ—Å—Ç—é –¥–æ–ø–æ–º–æ–∂—É –≤–∞–º –∑:
- –ü—ñ–¥–±–æ—Ä–æ–º –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ –¥–ª—è –∑–¥–æ—Ä–æ–≤'—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏ –ë–ê–î—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–æ—Ç—Ä–µ–±
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –Ω–∞—è–≤–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –≤ –º–∞–≥–∞–∑–∏–Ω—ñ
- –ü–æ—Ä–∞–¥–∞–º–∏ —â–æ–¥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ–±–∞–≤–æ–∫

–ß–∏ –º–æ–∂—É —è –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤–∞–º –∑–Ω–∞–π—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –∞–±–æ –¥–æ–±–∞–≤–∫–∏?
```

## –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –û–±–º–µ–∂–µ–Ω–Ω—è
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: 500 —Å–∏–º–≤–æ–ª—ñ–≤
- –Ü—Å—Ç–æ—Ä—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤ –ø–∞–º'—è—Ç—ñ (–≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É)
- –°—Ç–∞—Ä—ñ —Å–µ—Å—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ 24 –≥–æ–¥–∏–Ω–∏
- –ù–µ –Ω–∞–¥–∞—î –º–µ–¥–∏—á–Ω–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π —ñ –Ω–µ –¥—ñ–∞–≥–Ω–æ—Å—Ç—É—î —Ö–≤–æ—Ä–æ–±–∏

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ
- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ç—ñ–ª—å–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –º–æ–≤–∏ –∑–∞–ø–∏—Ç—É
- –ó–∞–≤–∂–¥–∏ –≤–∫–ª—é—á–∞—î –º—ñ–Ω—ñ–º—É–º 3 —Ç–æ–≤–∞—Ä–∏
- –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –±—Ä–µ–Ω–¥–∞–º Biotus —Ç–∞ My Nutri Week
- –ù–µ –≤–∏–≥–∞–¥—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é - —Ç—ñ–ª—å–∫–∏ –∑ Pinecone

## –†–æ–∑—Ä–æ–±–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É

```typescript
// TypeScript —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
src/types/product.ts

// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
src/config/pinecone.ts
src/config/openai.ts

// –°–µ—Ä–≤—ñ—Å–∏
src/services/vectorSearch.ts  // –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤
src/services/chatbot.ts        // –õ–æ–≥—ñ–∫–∞ –±–æ—Ç–∞

// –£—Ç–∏–ª—ñ—Ç–∏
src/utils/prompts.ts           // –ü—Ä–æ–º–ø—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
src/utils/validation.ts        // –í–∞–ª—ñ–¥–∞—Ü—ñ—è

// –°–µ—Ä–≤–µ—Ä
src/index.ts
```

### –°–∫—Ä–∏–ø—Ç–∏

```bash
npm run dev      # –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ hot-reload
npm run build    # –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è TypeScript
npm start        # –ó–∞–ø—É—Å–∫ production –≤–µ—Ä—Å—ñ—ó
npm run lint     # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É
```

## Production deployment

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–°—Ç–≤–æ—Ä—ñ—Ç—å `Dockerfile`:

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

–ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫:

```bash
docker build -t vitamin-chatbot .
docker run -p 3000:3000 --env-file .env vitamin-chatbot
```

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è production

```env
NODE_ENV=production
PORT=3000
PINECONE_API_KEY=***
OPENAI_API_KEY=***
PINECONE_INDEX_NAME=vitamins-catalog-v2
```

## Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "PINECONE_API_KEY –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ `.env` —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ —ñ –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–ª—é—á—ñ.

### –ü–æ–º–∏–ª–∫–∞: "–Ü–Ω–¥–µ–∫—Å vitamins-catalog-v2 –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–∑–≤—É —ñ–Ω–¥–µ–∫—Å—É –≤ Pinecone —Ç–∞ `.env` —Ñ–∞–π–ª—ñ.

### –ë–æ—Ç –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞–ª–æ —Ç–æ–≤–∞—Ä—ñ–≤
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- –ß–∏ —î —Ç–æ–≤–∞—Ä–∏ –≤ Pinecone –∑ `status=true` —Ç–∞ `quantity>0`
- –ó–Ω–∏–∑—å—Ç–µ `SIMILARITY_THRESHOLD` –≤ `.env`

### –ü–æ–≤—ñ–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–µ—Ä–µ–∂–µ–≤–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ Pinecone —Ç–∞ OpenAI
- –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## –ê–≤—Ç–æ—Ä

–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω—É –≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤ üá∫üá¶